<template>
  <div class="illustration_page">
    <h3>用户关注的作品</h3>
    <div class="follow_list">
      <div class="follow_work" v-for="index in 10" :key="index">
        <div class="follow_work_item">
          <div class="age_tag">
            <span>{{ age_tag }}</span>
          </div>
          <div class="page_count">
            <svg t="1715784414381" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
              p-id="9622" width="200" height="200">
              <path
                d="M819.2 128H409.6c-56.32 0-102.4 46.08-102.4 102.4v409.6c0 56.32 46.08 102.4 102.4 102.4h409.6c56.32 0 102.4-46.08 102.4-102.4V230.4c0-56.32-46.08-102.4-102.4-102.4z m51.2 512c0 28.16-23.04 51.2-51.2 51.2H409.6c-28.16 0-51.2-23.04-51.2-51.2V230.4c0-28.16 23.04-51.2 51.2-51.2h409.6c28.16 0 51.2 23.04 51.2 51.2v409.6z m-204.8 204.8c0 28.16-23.04 51.2-51.2 51.2H204.8c-28.16 0-51.2-23.04-51.2-51.2V435.2c0-28.16 23.04-51.2 51.2-51.2h51.2v-51.2H204.8c-56.32 0-102.4 46.08-102.4 102.4v409.6c0 56.32 46.08 102.4 102.4 102.4h409.6c56.32 0 102.4-46.08 102.4-102.4v-51.2h-51.2v51.2z"
                fill="#ccd6de" p-id="9623"></path>
            </svg>
            <span>{{ work_count }}</span>
          </div>
          <div class="like" v-html="is_like_svg">
        
          </div>
          <img :src="work_item_path">
        </div>
        <div class="work_name">
          <span>{{ work_name }}</span>
        </div>
        <div class="userinfo">
          <div class="user_avatar">
            <img :src="user_avatar">
          </div>
          <div class="username">
            <span>{{ username }}{{ index }}</span>
          </div>
        </div>
      </div>
      <div class="left_btn" @click="scrollTabs(-400)">
        <svg t="1715776937217" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
          p-id="4252" width="200" height="200">
          <path
            d="M510.86222222 1020.58666667c281.71377778 0 510.86222222-229.14844445 510.86222223-510.86222222S792.576-1.13777778 510.86222222-1.13777778 0 228.01066667 0 509.72444445s229.14844445 510.86222222 510.86222222 510.86222222z m0-950.72711112c242.57422222 0 439.86488889 197.29066667 439.86488889 439.8648889S753.43644445 949.58933333 510.86222222 949.58933333c-242.57422222 0-439.86488889-197.29066667-439.86488889-439.86488888S268.288 69.85955555 510.86222222 69.85955555zM307.65511111 532.48c-13.88088889-13.88088889-13.88088889-36.29511111 0-50.176l260.89244444-260.89244445c13.88088889-13.88088889 36.29511111-13.88088889 50.176 0 13.88088889 13.88088889 13.88088889 36.29511111 0 50.176L382.976 507.33511111l235.86133333 235.86133334c13.88088889 13.88088889 13.88088889 36.29511111 0 50.176-6.94044445 6.94044445-16.04266667 10.35377778-25.03111111 10.35377777-9.10222222 0-18.20444445-3.41333333-25.03111111-10.35377777L307.65511111 532.48z"
            fill="#333303" p-id="4253"></path>
        </svg>
      </div>
      <div class="right_btn" @click="scrollTabs(400)">
        <svg t="1715776983773" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
          p-id="6057" width="200" height="200">
          <path
            d="M896 512a384 384 0 1 0-384 384 384 384 0 0 0 384-384z m64 0A448 448 0 1 1 512 64a448 448 0 0 1 448 448z"
            p-id="6058"></path>
          <path
            d="M425.28 310.72a32 32 0 0 1 45.44-45.44l224 224a32 32 0 0 1 0 45.44l-224 224a32 32 0 0 1-45.44-45.44L626.88 512z"
            p-id="6059"></path>
        </svg>
      </div>
    </div>
    <recommendation></recommendation>
    <ranking></ranking>
  </div>
</template>

<script>
// eslint-disable-next-line no-unused-vars
import { ref, reactive, toRefs, watch, onMounted, onUnmounted } from 'vue';
import recommendation from './recommendation.vue';
import ranking from './ranking.vue';
export default {
  name: 'illustration_page',
  components: { recommendation, ranking },
}
</script>

<script setup>
let work_item_path = ref('https://127.0.0.1:443/image/87328997_p0.jpg');
let age_tag = ref('R-18');
let work_count = ref(12);
let work_name = ref('作品名');
let user_avatar = ref('https://127.0.0.1:443/image/104705167_p0.jpg');
let username = ref('用户名');

//喜欢状态
let like_svg=` <svg t="1715852645958" class="icon" viewBox="0 0 1108 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
              p-id="6159" width="30" height="30">
              <path
                d="M791.247022 22.644196c-99.290228 0-186.87737 43.683756-250.52047 114.816653C485.958256 69.411723 406.004342 22.644196 316.893244 22.644196 151.781555 22.644196 17.928896 183.058515 17.928896 342.338831 17.928896 751.458318 548.651124 1010.786359 548.651124 1010.786359l3.20479-26.221012 5.477278 26.221012s532.88266-259.32804 532.88266-668.447528c-0.008964-159.280316-133.861623-319.694634-298.96883-319.694635z"
                fill="#FF94B3" p-id="6160"></path>
              <path
                d="M573.294392 159.907827s-111.078478 156.886808-75.220685 295.835756c0 0 0 35.857793-35.857793 35.857793s-47.108175-49.304465-35.857792-138.948948c11.2459-89.644482 134.466723-228.593429 134.466723-228.593429l12.469547 35.848828z"
                fill="#FFADC5" p-id="6161"></path>
              <path
                d="M929.030591 64.539545c63.11868 56.525328 103.624539 140.683568 103.624539 224.559428 0 375.292142-488.817915 613.177222-488.817915 613.177222l-5.024573-24.047132-2.935857 24.047132S49.040014 664.395597 49.040014 289.098973c0-59.855621 20.63616-119.877084 55.377879-169.894223C48.381127 179.60272 13.500459 261.089554 13.500459 342.338831c0 409.119488 530.722228 668.447528 530.722228 668.447528l3.195825-26.221012 5.477278 26.221012s532.88266-259.32804 532.88266-668.447528c0-109.617273-63.396578-219.763448-156.747859-277.799286z"
                fill="#E887A3" p-id="6162"></path>
              <path
                d="M92.817897 343.262169c0-142.548173 123.010158-286.113811 274.760338-286.113812 81.894717 0 155.376299 41.850526 205.711675 102.754988 58.488542-63.665511 138.984805-102.754988 230.233924-102.754988 64.149591 0 123.104285 25.71452 169.862847 66.103842-50.389163-62.764584-125.080946-106.2063-208.513066-106.206301-91.244636 0-171.745381 39.093959-230.233923 102.754988C484.313279 58.896425 410.831697 17.045898 328.936981 17.045898c-151.741215 0-274.760338 143.561156-274.760338 286.10933 0 156.77027 89.433818 288.937613 191.69576 388.859834-85.139847-94.198422-153.054507-212.134703-153.054506-348.752893z"
                fill="#FFADC5" p-id="6163"></path>
              <path
                d="M557.337674 1023.999955a17.933379 17.933379 0 0 1-7.861821-34.055939c1.313292-0.640958 133.2117-65.480812 263.133449-178.742133 118.460701-103.261479 259.668689-269.247202 259.668689-473.582834C1072.277991 195.173967 952.091634 35.857793 791.247022 35.857793c-150.992684 0-281.416441 110.280642-324.544401 274.415206-8.507261 32.36614-12.267847 73.508475-11.183149 122.284039a17.928896 17.928896 0 0 1-17.525497 18.323332l-0.407882 0.004482a17.928896 17.928896 0 0 1-17.919932-17.529979c-1.160896-52.119302 2.994126-96.596412 12.348527-132.198717C479.355939 121.024533 623.714931 0 791.247022 0c83.261795 0 163.067795 37.659647 224.716305 106.040458 58.578187 64.983285 92.172457 149.39253 92.172457 231.583073 0 172.623897-94.261173 345.920128-272.595424 501.166442-133.476152 116.192696-264.841176 180.709829-270.367758 183.399164a17.816841 17.816841 0 0 1-7.834928 1.810818z"
                fill="#6E6E96" p-id="6164"></path>
              <path
                d="M548.637677 1023.999955a17.866145 17.866145 0 0 1-7.857338-1.824265c-5.508653-2.689334-136.344775-67.21095-269.287543-183.408128C93.880184 683.52573 0 510.229499 0 337.623531c0-82.195026 33.598752-166.599788 92.176939-231.583073C153.825449 37.659647 233.631449 0 316.893244 0c89.012489 0 175.689738 44.252999 237.8044 121.410004a17.928896 17.928896 0 1 1-27.928738 22.487319C471.494118 75.238614 394.995999 35.857793 316.893244 35.857793 156.048632 35.857793 35.857793 195.173967 35.857793 337.623531c0 204.613531 140.97043 370.778543 259.229431 474.147595 129.392846 113.090996 260.125876 177.549861 261.430203 178.190819a17.928896 17.928896 0 0 1-7.87975 34.03801z"
                fill="#6E6E96" p-id="6165"></path>
            </svg>`
        
let don_t_like_svg=`
<svg t="1715852645958" class="icon" viewBox="0 0 1108 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
              p-id="6159" width="30" height="30">
              <path
                d="M791.247022 22.644196c-99.290228 0-186.87737 43.683756-250.52047 114.816653C485.958256 69.411723 406.004342 22.644196 316.893244 22.644196 151.781555 22.644196 17.928896 183.058515 17.928896 342.338831 17.928896 751.458318 548.651124 1010.786359 548.651124 1010.786359l3.20479-26.221012 5.477278 26.221012s532.88266-259.32804 532.88266-668.447528c-0.008964-159.280316-133.861623-319.694634-298.96883-319.694635z"
                fill="#FFFF" p-id="6160"></path>
              <path
                d="M573.294392 159.907827s-111.078478 156.886808-75.220685 295.835756c0 0 0 35.857793-35.857793 35.857793s-47.108175-49.304465-35.857792-138.948948c11.2459-89.644482 134.466723-228.593429 134.466723-228.593429l12.469547 35.848828z"
                fill="#FFADC5" p-id="6161"></path>
              <path
                d="M929.030591 64.539545c63.11868 56.525328 103.624539 140.683568 103.624539 224.559428 0 375.292142-488.817915 613.177222-488.817915 613.177222l-5.024573-24.047132-2.935857 24.047132S49.040014 664.395597 49.040014 289.098973c0-59.855621 20.63616-119.877084 55.377879-169.894223C48.381127 179.60272 13.500459 261.089554 13.500459 342.338831c0 409.119488 530.722228 668.447528 530.722228 668.447528l3.195825-26.221012 5.477278 26.221012s532.88266-259.32804 532.88266-668.447528c0-109.617273-63.396578-219.763448-156.747859-277.799286z"
                fill="#E887A3" p-id="6162"></path>
              <path
                d="M92.817897 343.262169c0-142.548173 123.010158-286.113811 274.760338-286.113812 81.894717 0 155.376299 41.850526 205.711675 102.754988 58.488542-63.665511 138.984805-102.754988 230.233924-102.754988 64.149591 0 123.104285 25.71452 169.862847 66.103842-50.389163-62.764584-125.080946-106.2063-208.513066-106.206301-91.244636 0-171.745381 39.093959-230.233923 102.754988C484.313279 58.896425 410.831697 17.045898 328.936981 17.045898c-151.741215 0-274.760338 143.561156-274.760338 286.10933 0 156.77027 89.433818 288.937613 191.69576 388.859834-85.139847-94.198422-153.054507-212.134703-153.054506-348.752893z"
                fill="#FFADC5" p-id="6163"></path>
              <path
                d="M557.337674 1023.999955a17.933379 17.933379 0 0 1-7.861821-34.055939c1.313292-0.640958 133.2117-65.480812 263.133449-178.742133 118.460701-103.261479 259.668689-269.247202 259.668689-473.582834C1072.277991 195.173967 952.091634 35.857793 791.247022 35.857793c-150.992684 0-281.416441 110.280642-324.544401 274.415206-8.507261 32.36614-12.267847 73.508475-11.183149 122.284039a17.928896 17.928896 0 0 1-17.525497 18.323332l-0.407882 0.004482a17.928896 17.928896 0 0 1-17.919932-17.529979c-1.160896-52.119302 2.994126-96.596412 12.348527-132.198717C479.355939 121.024533 623.714931 0 791.247022 0c83.261795 0 163.067795 37.659647 224.716305 106.040458 58.578187 64.983285 92.172457 149.39253 92.172457 231.583073 0 172.623897-94.261173 345.920128-272.595424 501.166442-133.476152 116.192696-264.841176 180.709829-270.367758 183.399164a17.816841 17.816841 0 0 1-7.834928 1.810818z"
                fill="#6E6E96" p-id="6164"></path>
              <path
                d="M548.637677 1023.999955a17.866145 17.866145 0 0 1-7.857338-1.824265c-5.508653-2.689334-136.344775-67.21095-269.287543-183.408128C93.880184 683.52573 0 510.229499 0 337.623531c0-82.195026 33.598752-166.599788 92.176939-231.583073C153.825449 37.659647 233.631449 0 316.893244 0c89.012489 0 175.689738 44.252999 237.8044 121.410004a17.928896 17.928896 0 1 1-27.928738 22.487319C471.494118 75.238614 394.995999 35.857793 316.893244 35.857793 156.048632 35.857793 35.857793 195.173967 35.857793 337.623531c0 204.613531 140.97043 370.778543 259.229431 474.147595 129.392846 113.090996 260.125876 177.549861 261.430203 178.190819a17.928896 17.928896 0 0 1-7.87975 34.03801z"
                fill="#6E6E96" p-id="6165"></path>
            </svg>`

let is_like_svg=ref()

onMounted(()=>{
  is_like_svg.value=like_svg
})
//模拟横向滚动效果
function scrollTabs(scrollAmount) {
  const tags = document.querySelector('.follow_list');
  const animationDuration = 0.2 * 1000; // 0.5秒转为毫秒
  const fps = 24; // 帧率
  const frameDuration = animationDuration / fps; // 每帧持续时间
  const framesCount = Math.ceil(animationDuration / frameDuration); // 总帧数
  let count = 0;

  function animateScroll() {
    if (count < framesCount) {
      tags.scrollLeft += scrollAmount / framesCount;
      count++;
      requestAnimationFrame(animateScroll);
    }
  }

  animateScroll();
}
</script>

<style scoped>
.illustration_page {
  width: 80%;
  height: auto;
  min-height: 400px;
  margin: 20px auto;
  display: flex;
  flex-direction: column;
  position: relative;
}

.follow_list {
  display: flex;
  width: 100%;
  height: 250px;
  margin-top: 10px;
  overflow-x: auto;
  scrollbar-width: none;
  white-space: nowrap;
}

.follow_work {
  display: flex;
  flex-direction: column;
  width: 150px;
  min-width: 150px;
  height: 100%;
  margin-right: 20px;
  margin-left: 10px;
  position: relative;
}

.left_btn {
  display: flex;
  position: absolute;
  left: 0px;
  height: 230px;
  width: 60px;
  opacity: 0;
  align-items: center;
}

.left_btn svg,
.right_btn svg {
  width: 40px;
  height: 40px;
  object-fit: cover;
}

.left_btn:hover {
  opacity: 1;
  cursor: pointer;
  transition: all 0.3s ease;
  /*从左到右白色到透明渐变*/
  background: linear-gradient(to right, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0));
}

.right_btn {
  display: flex;
  position: absolute;
  right: 0px;
  height: 230px;
  width: 60px;
  opacity: 0;
  align-items: center;
}

.right_btn svg {
  position: absolute;
  right: 0px;
}

.right_btn:hover {
  opacity: 1;
  cursor: pointer;
  transition: all 0.3s ease;
  background: linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 1));
}

.follow_work_item {
  display: flex;
  position: relative;
  overflow: hidden;
  width: 100%;
  height: 80%;
  border-radius: 10px;
}

.follow_work_item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.age_tag {
  display: flex;
  position: absolute;
  left: 5px;
  top: 5px;
  font-size: 12px;
  color: white;
  background-color: red;
  border-radius: 5px;
  padding: 2px;
  font-weight: bold;
}

.page_count {
  display: flex;
  position: absolute;
  right: 5px;
  top: 5px;
  font-size: 12px;
  color: white;
  background-color: rgba(233, 233, 233, 0.5);
  border-radius: 5px;
  padding: 2px;
}

.page_count svg {
  width: 16px;
  height: 16px;
  margin-right: 2px;
  object-fit: cover;
  fill: rgba(244, 244, 244, 1)
}

.like {
  display: flex;
  position: absolute;
  right: 5px;
  bottom: 5px;
}

.like svg {
  width: 30px;
  height: 30px;
  object-fit: cover;
}

.userinfo {
  display: flex;
  width: 100%;
  flex-flow: 1;
  align-items: center;
}

.work_name {
  width: 100%;
  margin-top: 5px;
}

.user_avatar {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  overflow: hidden;
  margin-right: 5px;
  margin-top: 5px;
}

.user_avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
</style>